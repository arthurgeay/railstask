<p id="notice"><%= notice %></p>

<p>
  <strong>Name:</strong>
  <%= @project.name %>
</p>

<p>
  <strong>Description:</strong>
  <%= @project.description %>
</p>

<p>
  <strong>Color:</strong>
  <%= @project.color %>
</p>

<%= link_to 'Edit', edit_project_path(@project) %> |
<%= link_to 'Back', projects_path %>

<hr>

<h2>Task Lists</h2>



<main class="column">  
<% @project.task_lists.each_with_index do |task_list, tli| %>
  <section class="tasklist">
    <div class="tasklist-title">
      <h3 class="tasklist-name"><%= task_list.name %></h3>
      <button class="edit">
        <%= link_to edit_project_task_list_path(id: task_list, project_id: @project.id) do %>
          <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 383.947 383.947" style="enable-background:new 0 0 383.947 383.947;" xml:space="preserve">
            <g><g><g><polygon points="0,303.947 0,383.947 80,383.947 316.053,147.893 236.053,67.893"/><path d="M377.707,56.053L327.893,6.24c-8.32-8.32-21.867-8.32-30.187,0l-39.04,39.04l80,80l39.04-39.04 C386.027,77.92,386.027,64.373,377.707,56.053z"/></g></g></g>
          </svg>
          Ã‰diter
        <% end %>
      </button>
    </div>
    <div class="tasklist-container">

    <% task_list.tasks.each_with_index do |task, index| %>
      <div class="task">
        <p class="task-status"><%= task.status %></p>
        <p class="task-title"><%= task.title %></p>
        <p class="task-duration">2 jours</p>
        <p class="task-description"><%= task.description %></p>
        <div class="task-row">
          <ul class="task-users">
            <li class="task-user"><img src="https://www.gravatar.com/avatar/87c66a74876158ac59579164eb8559d6"></li>
            <li class="task-user"><img src="https://www.gravatar.com/avatar/6d1126780e9d8a242cd22ab446dba7db"></li>
            <li class="task-user"><img src="https://www.gravatar.com/avatar/0105e1b5390b6fc5b242d408a7ffb25c"></li>
          </ul>
          <div class="task-complete">
            <input type="checkbox" id="complete<%= index.to_s + tli.to_s %>" class="task-complete-check">
            <label for="complete<%= index.to_s + tli.to_s %>" class="task-complete-label">
              <svg width="25" height="25" viewBox="0 0 15 13" xmlns="http://www.w3.org/2000/svg">
                <path d="M13.2413 1.67668L5.6063 10.9997" stroke="black" stroke-width="4"/>
                <path d="M2.00005 6.00002L8.00019 10.3201" stroke="black" stroke-width="4"/>
              </svg>
            </label>
          </div>
        </div>
      </div>
      <% end %>
      <div class="task-add">      
        <%= link_to 'New Task', new_project_task_list_task_path(project_id: @project, task_list_id: task_list), class: 'new-task' %>
      </div>

      <button class="delete">
      <%= link_to project_task_list_path(id: task_list, project_id: @project.id), method: :delete, data: { confirm: 'Are you sure?'} do %>
        <svg width="165" height="202" viewBox="0 0 165 202" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0)">
            <path d="M20.625 176.75C20.625 190.669 29.8749 202 41.2498 202H123.75C135.125 202 144.375 190.669 144.375 176.75V50.5H20.625V176.75Z" fill="#C6C6C6"/>
            <path d="M103.125 12.6249V0H61.8749V12.6249H10.3125V37.8747H154.687V12.6249H103.125Z" fill="#C6C6C6"/>
          </g>
          <defs>
            <clipPath id="clip0">
            <rect width="165" height="202" fill="white"/>
            </clipPath>
          </defs>
        </svg>
        <% end %>
      </button>
    </div>
  </section>
<% end %>

<button class="new-tasklist">
  <%= link_to 'Ajouter une liste', new_project_task_list_path(project_id: @project.id) %>
</button>
</main>
<p id="notice"><%= notice %></p>

<section class="home">
  <nav>
    <div class="menu-logo">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 616 205" width="616" height="205">
        <path id="Path 0" fill="#FFFFFF" class="shp0" d="M281.32 0.69L334.91 1.37C364.38 1.75 402.22 2.5 419 3.04C435.77 3.58 456.92 4.48 466 5.03C475.07 5.58 486.77 6.48 492 7.03C497.22 7.57 504.2 8.69 507.5 9.52C510.8 10.35 518.22 13.31 524 16.09C529.77 18.87 538.77 24 544 27.5C549.22 30.99 557.1 36.75 561.5 40.29C565.9 43.84 574.9 52.31 581.5 59.13C588.1 65.94 596.23 75.56 599.56 80.51C602.89 85.45 607.04 92.42 608.77 96C610.5 99.57 612.84 106.1 613.97 110.5C615.1 114.9 616.01 120.97 615.99 124C615.97 127.02 615.48 131.52 614.9 134C614.32 136.47 612.68 140.97 611.26 144C609.66 147.38 605.93 152.23 601.58 156.56C597.69 160.44 592.25 164.84 584.5 169.06L282.5 169.01L281.75 153.25C281.34 144.59 281.08 106.72 281.16 69.09L281.32 0.69ZM484 118L497 118C496.97 106.01 497.23 105.24 500.23 102.27C502.03 100.49 504.17 99.04 505 99.06C505.82 99.07 509.87 103.36 514 108.57L521.5 118.06C534.25 118.01 535.83 117.7 535.31 116.75C534.93 116.06 530.57 110.32 525.63 104C520.68 97.67 516.16 91.91 515.57 91.2C514.76 90.21 515.83 88.52 520.01 84.2C523.04 81.06 527.54 76.36 530.01 73.74L534.5 68.97L520.5 68.93C503.84 84.49 498.55 88.77 498 88.5C497.39 88.19 497 80.67 497 69L497 50L484 50L484 118ZM314 65L335 65L335 118L349 118L349 65L370 65L370 54L314 54L314 65ZM377.25 72.83L375 74C378.84 80.89 379.94 81.87 381 81.39C381.82 81.02 384.75 80.09 387.5 79.33C390.63 78.47 394 78.21 396.5 78.66C398.7 79.05 401.74 80.41 403.25 81.68C405.02 83.17 406 84.98 406.01 86.75L406.01 89.5C387.3 90.56 383.46 91.25 380.5 92.77C378.3 93.89 375.71 96.2 374.75 97.9C373.79 99.61 373 102.35 373 104C373 105.65 373.45 108.12 374 109.5C374.55 110.87 376.24 113.12 377.75 114.48C379.26 115.84 382.75 117.47 385.5 118.1C388.25 118.72 392.3 118.96 394.5 118.63C396.7 118.3 400.19 116.9 402.25 115.52C404.31 114.13 406.24 113.34 406.53 113.75C406.82 114.16 407.04 115.29 407.03 116.25C407 117.73 407.94 118 413 118L419 118C418.88 91.1 418.39 83.25 417.67 81.32C417.03 79.57 415.49 76.98 414.25 75.57C413.01 74.16 410.09 72.11 407.75 71.02C404.59 69.55 401.44 69.06 395.5 69.09C391.1 69.11 385.7 69.7 383.5 70.39C381.3 71.08 378.49 72.18 377.25 72.83ZM434.25 75.46C431.49 78.47 431 79.75 431 84C431 88.05 431.53 89.59 433.75 92.06C435.26 93.75 437.85 95.54 439.5 96.05C441.15 96.55 446.1 97.66 450.5 98.51C454.9 99.37 459.1 100.61 459.82 101.28C460.55 101.95 461 103.62 460.82 105C460.59 106.82 459.55 107.83 457 108.74C454.85 109.5 451.37 109.74 448 109.37C444.97 109.04 440.7 108.13 438.5 107.36C436.3 106.59 434.27 105.96 434 105.96C433.72 105.96 432.71 107.54 431.75 109.48C430.79 111.42 430.22 113.45 430.5 114C430.77 114.55 433.36 115.77 436.25 116.72C439.61 117.82 444.75 118.45 450.5 118.47C458.13 118.49 460.25 118.11 464.45 115.99C467.17 114.62 470.21 112.15 471.2 110.5C472.18 108.85 472.99 105.59 473 103.25C473 100.18 472.31 98.17 470.5 96C468.84 94 466.24 92.52 462.75 91.56C459.86 90.77 454.8 89.6 451.5 88.96C448.2 88.31 444.92 87.27 444.21 86.64C443.49 86.01 442.93 84.49 442.96 83.25C442.98 82.01 444.01 80.32 445.25 79.49C446.57 78.61 449.78 77.98 453 77.97C456.02 77.96 460.52 78.64 463 79.48C465.47 80.31 467.51 80.88 467.53 80.75C467.55 80.61 468.33 78.81 469.28 76.75C470.23 74.69 471 72.77 471 72.5C471 72.22 468.64 71.32 465.75 70.49C462.86 69.66 457.12 69 453 69.03C448.87 69.06 443.7 69.72 441.5 70.5C439.3 71.28 436.04 73.51 434.25 75.46ZM147.06 36C149.23 36 152.24 36.61 153.75 37.36C155.26 38.11 156.84 39.46 157.25 40.36C157.66 41.26 158 43.46 158.01 45.25C158.01 47.04 157.31 49.48 156.44 50.67C155.57 51.87 153.2 53.37 151.18 54.01C149.16 54.66 146.26 54.92 144.75 54.59C143.24 54.27 140.82 52.54 139.39 50.75C137.3 48.14 136.89 46.81 137.36 44C137.68 42.01 139.05 39.53 140.53 38.25C142.27 36.74 144.41 36 147.06 36ZM187.5 40.5L188 118L170 118L169.83 79.67C169.74 58.58 170.06 41.02 170.54 40.63C171.01 40.24 175.03 40.05 187.5 40.5ZM0.14 44.86L21.82 45.18C42.49 45.49 43.75 45.62 48.9 48C51.86 49.37 56.03 52.41 58.15 54.75C60.27 57.09 62.45 60.69 62.99 62.75C63.54 64.81 64 68.75 64.01 71.5C64.02 74.25 63.36 78.52 62.55 81C61.61 83.87 59.44 87.04 56.54 89.75C54.04 92.09 51.55 94 51 94C50.45 94 50.16 94.56 50.36 95.25C50.56 95.94 53.94 101.11 57.86 106.75C61.79 112.39 65 117.22 65 117.5C65 117.77 60.84 118.02 46.5 118.08L32.5 97.96L18 98L18 118L0 118L0.14 44.86ZM18 84C33.31 83.98 36.5 83.49 39.5 82.05C41.7 80.99 44.06 78.97 44.75 77.56C45.44 76.15 46 73.2 46 71C46 68.04 45.28 66.2 43.25 63.95C41.62 62.13 38.88 60.52 36.5 59.97C34.3 59.46 29.24 59.04 25.25 59.02L18 59L18 84ZM99 61.23C106.85 61.47 109.37 61.96 113.5 64.07C116.56 65.63 119.66 68.28 124.5 75.17L125 118L117 118C110.06 118 108.99 117.77 108.96 116.25C108.93 114.65 108.51 114.7 104.21 116.77C100.66 118.48 97.78 119.03 92.5 119C87.99 118.97 84.08 118.32 81.5 117.16C79.3 116.17 76.46 114.04 75.2 112.43C73.93 110.82 72.47 107.81 71.95 105.75C71.34 103.35 71.36 100.47 71.99 97.75C72.53 95.41 74.22 92.25 75.74 90.73C77.26 89.21 80.52 87.29 83 86.47C85.83 85.53 91.3 84.98 97.75 84.99C107.34 85 108 84.87 108 83C108 81.9 106.65 79.65 105 78C102.3 75.3 101.38 75 95.75 75.02C91.7 75.04 87.92 75.75 85 77.05C82.52 78.15 80.16 79.04 79.75 79.03C79.34 79.01 77.76 76.53 76.25 73.51C73.97 68.97 73.73 67.81 74.83 66.76C75.56 66.07 79.16 64.47 82.83 63.22C88.3 61.35 91.21 60.99 99 61.23ZM88.8 98.49C88.38 99.05 88.02 100.29 88.02 101.25C88.01 102.21 88.9 103.9 90 105C91.47 106.47 93.33 107 97 107C100.87 107 102.68 106.43 105 104.5C107.29 102.6 108 101.17 108 98.5L108 95C96.76 95.05 92.61 95.6 91.53 96.27C90.45 96.93 89.22 97.93 88.8 98.49ZM223.5 61.04C227.9 61.01 234.2 61.69 237.5 62.54C240.8 63.39 244.03 64.64 244.67 65.31C245.57 66.24 245.26 67.8 243.35 72.01C241.97 75.03 240.77 77.58 240.68 77.68C240.58 77.77 238.02 77 235 75.96C231.97 74.92 227.36 74.05 224.75 74.03C222.14 74.01 218.87 74.45 217.5 75C216.12 75.55 214.66 76.7 214.25 77.55C213.8 78.48 214.1 79.68 215 80.55C215.82 81.35 221 82.92 226.5 84.05C232 85.18 238.04 86.86 239.91 87.8C241.79 88.73 244.17 90.62 245.2 92C246.23 93.37 247.33 95.85 247.65 97.5C247.96 99.15 247.9 102.3 247.51 104.5C247.03 107.16 245.57 109.71 243.14 112.13C240.78 114.49 237.57 116.33 234 117.39C230.97 118.29 225.12 119.02 221 119.01C216.87 119.01 210.91 118.33 207.75 117.51C204.59 116.68 200.65 115.32 196 113L199 107C201.38 102.24 202.36 101.14 203.75 101.65C204.71 102.01 207.75 103.12 210.5 104.12C213.25 105.12 217.86 105.95 220.75 105.97C223.64 105.99 227.01 105.62 228.25 105.15C229.49 104.69 230.84 103.56 231.25 102.65C231.68 101.7 231.47 100.46 230.75 99.72C230.06 99.02 225.22 97.64 220 96.66C214.77 95.68 208.59 94 206.25 92.94C203.84 91.84 201.14 89.59 200 87.75C198.73 85.67 198 82.7 197.98 79.5C197.95 75.92 198.59 73.53 200.22 71.09C201.47 69.22 203.62 66.85 205 65.82C206.37 64.79 209.3 63.31 211.5 62.52C213.7 61.73 219.1 61.07 223.5 61.04ZM139 62L156 62L156 118L139 118L139 62ZM406 97L406 101C406 103.93 405.33 105.67 403.5 107.5C402.12 108.87 399.54 110.28 397.75 110.62C395.96 110.96 393.37 110.98 392 110.66C390.62 110.34 388.74 109.5 387.8 108.79C386.87 108.08 385.86 106.26 385.55 104.75C385.14 102.69 385.62 101.37 387.45 99.5C389.67 97.24 390.69 97 406 97ZM282 179L334 179L333.98 182.25C333.97 184.04 333.04 187.52 331.92 190C330.8 192.47 328.67 195.79 327.19 197.38C325.71 198.96 322.25 201.32 319.5 202.62C315.84 204.35 312.76 204.98 308 204.98C303.24 204.98 300.16 204.35 296.5 202.62C293.75 201.32 290.29 198.96 288.81 197.38C287.33 195.79 285.2 192.47 284.08 190C282.96 187.52 282.03 184.04 282.02 182.25L282 179ZM423 179L475 179L474.98 182.25C474.97 184.04 474.04 187.52 472.92 190C471.8 192.47 469.67 195.79 468.19 197.38C466.71 198.96 463.25 201.32 460.5 202.62C456.84 204.35 453.76 204.98 449 204.98C444.24 204.98 441.16 204.35 437.5 202.62C434.75 201.32 431.29 198.96 429.81 197.38C428.33 195.79 426.2 192.47 425.08 190C423.96 187.52 423.03 184.04 423.02 182.25L423 179ZM492.7 179L519.35 179C540 179 546 179.28 546.01 180.25C546.02 180.94 545.34 183.86 544.51 186.75C543.51 190.21 541.55 193.55 538.75 196.57C536.41 199.08 532.7 202 530.5 203.05C527.73 204.38 524.35 204.97 519.5 204.96C514.93 204.96 511.11 204.33 508.5 203.16C506.3 202.17 502.92 199.81 501 197.92C499.07 196.02 496.65 192.68 495.6 190.49C494.56 188.29 493.48 184.81 493.2 182.75L492.7 179Z" />
      </svg>
    </div>
    <div class="menu-account">
      <img src="https://www.gravatar.com/avatar/87c66a74876158ac59579164eb8559d6" class="account-picture">
      <div class="account">
        <p class="account-name">Arthur Geay</p>
        <button class="account-disconnect">Se déconnecter</button>
      </div>
    </div>
  </nav>


  <main class="column">  
    <section class="project">
      <div class="project-title">
        <div>
          <h1 class="project-name"><%= @project.name %></h1>
          <input type="color" value="<%= @project.color %>" class="project-color"/>
          <button class="edit">
            <%= link_to edit_project_path(@project) do %>
              <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 383.947 383.947" style="enable-background:new 0 0 383.947 383.947;" xml:space="preserve">
                <g><g><g><polygon points="0,303.947 0,383.947 80,383.947 316.053,147.893 236.053,67.893"/><path d="M377.707,56.053L327.893,6.24c-8.32-8.32-21.867-8.32-30.187,0l-39.04,39.04l80,80l39.04-39.04 C386.027,77.92,386.027,64.373,377.707,56.053z"/></g></g></g>
              </svg>
              Éditer
            <% end %>
          </button>
        </div>
        <div class="project-controls">
          <button id="plugin" class="plugin">
              <svg xmlns="http://www.w3.org/2000/svg" width="621.508" height="604.825" viewBox="0 0 621.508 604.825">
                  <path id="plugin-icon_1" data-name="plugin-icon 1" d="M407.232,4.147c-4.563,2.288-34.105,29.232-65.611,59.89l-57.339,55.718c-56.54-54.7-56.981-54.991-70.259-55.1-11.755-.081-14.577,1.077-22.82,9.34-7.856,7.887-9.4,11.413-9.4,21.533,0,8.963,1.8,14.212,6.915,20.188l6.915,8.075c-67.878,68.584-82.04,85.246-90.394,99.728C98.873,234.556,90.3,254.474,86.177,267.8c-6.306,20.3-7.551,29.474-7.717,56.526-.138,23.607,1.189,37.011,4.9,49.8a267.127,267.127,0,0,0,14.411,36.338l9.349,18.841C11.881,522.432,4.855,530.454,2.034,541.005.264,547.654-.455,557.344.4,562.538c.885,5.168,4.453,13.647,7.939,18.842a65.53,65.53,0,0,0,15.932,15.477c5.255,3.338,13.886,6.757,19.224,7.618,5.311.835,15.268.134,22.128-1.588,10.843-2.745,19.086-9.584,63.619-52.7l51.172-49.553c30.011,14.346,46.193,20.4,55.322,22.772,9.127,2.342,26.553,4.979,38.724,5.867,12.169.916,30.84.323,41.49-1.292a293.48,293.48,0,0,0,40.107-9.771,257.045,257.045,0,0,0,40.107-18.114c12.117-7.053,34.105-25.169,58.78-48.425L494.363,414.5c14.5,11.762,19.8,13.458,29.321,13.458,10.9,0,14.079-1.345,22.129-9.42s9.4-11.252,9.322-22.206c-.084-12.678-.36-13.056-31.756-43.741l-31.67-30.953c108.761-105.811,125.357-123.685,127.9-131.22,2.876-8.641,2.682-11.467-1.466-19.515a43.343,43.343,0,0,0-13.83-14.8c-4.952-2.934-11.784-5.357-15.215-5.383a34.5,34.5,0,0,0-12.447,2.988c-3.429,1.615-34.244,30.093-68.46,63.255L445.957,277.22l-116.173-113C449.442,47.645,452.789,43.849,452.816,34.294c.029-5.545-2.13-13.754-4.784-18.223S439.154,6.166,434.2,3.959C429.25,1.778,423.027-.025,420.372,0,417.717,0,411.8,1.886,407.232,4.147Z" transform="translate(-0.041 -0.001)"/>
              </svg>
          </button>
        </div>
      </div>
      <div class="project-description">
        <p><%= @project.description %></p>
      </div>
    </section>



    <% @project.task_lists.each_with_index do |task_list, tli| %>
      <section class="tasklist">
        <div class="tasklist-title">
          <h3 class="tasklist-name"><%= task_list.name %></h3>
          <button class="edit">
            <%= link_to edit_project_task_list_path(id: task_list, project_id: @project.id) do %>
              <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 383.947 383.947" style="enable-background:new 0 0 383.947 383.947;" xml:space="preserve">
                <g><g><g><polygon points="0,303.947 0,383.947 80,383.947 316.053,147.893 236.053,67.893"/><path d="M377.707,56.053L327.893,6.24c-8.32-8.32-21.867-8.32-30.187,0l-39.04,39.04l80,80l39.04-39.04 C386.027,77.92,386.027,64.373,377.707,56.053z"/></g></g></g>
              </svg>
              Éditer
            <% end %>
          </button>
        </div>
        <div class="tasklist-container">

        <% task_list.tasks.each_with_index do |task, index| %>
          <div class="task">
            <p class="task-status"><%= task.status %></p>
            <p class="task-title"><%= task.title %></p>
            <p class="task-duration">2 jours</p>
            <p class="task-description"><%= task.description %></p>
            <div class="task-row">
              <ul class="task-users">
                <li class="task-user"><img src="https://www.gravatar.com/avatar/87c66a74876158ac59579164eb8559d6"></li>
                <li class="task-user"><img src="https://www.gravatar.com/avatar/6d1126780e9d8a242cd22ab446dba7db"></li>
                <li class="task-user"><img src="https://www.gravatar.com/avatar/0105e1b5390b6fc5b242d408a7ffb25c"></li>
              </ul>
              <div class="task-complete">
                <input type="checkbox" id="complete<%= index.to_s + tli.to_s %>" class="task-complete-check">
                <label for="complete<%= index.to_s + tli.to_s %>" class="task-complete-label">
                  <svg width="25" height="25" viewBox="0 0 15 13" xmlns="http://www.w3.org/2000/svg">
                    <path d="M13.2413 1.67668L5.6063 10.9997" stroke="black" stroke-width="4"/>
                    <path d="M2.00005 6.00002L8.00019 10.3201" stroke="black" stroke-width="4"/>
                  </svg>
                </label>
              </div>
            </div>
          </div>
          <% end %>
          <div class="task-add">      
            <%= link_to 'New Task', new_project_task_list_task_path(project_id: @project, task_list_id: task_list), class: 'new-task' %>
          </div>

          <button class="delete">
          <%= link_to project_task_list_path(id: task_list, project_id: @project.id), method: :delete, data: { confirm: 'Are you sure?'} do %>
            <svg width="165" height="202" viewBox="0 0 165 202" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0)">
                <path d="M20.625 176.75C20.625 190.669 29.8749 202 41.2498 202H123.75C135.125 202 144.375 190.669 144.375 176.75V50.5H20.625V176.75Z" fill="#C6C6C6"/>
                <path d="M103.125 12.6249V0H61.8749V12.6249H10.3125V37.8747H154.687V12.6249H103.125Z" fill="#C6C6C6"/>
              </g>
              <defs>
                <clipPath id="clip0">
                <rect width="165" height="202" fill="white"/>
                </clipPath>
              </defs>
            </svg>
            <% end %>
          </button>
        </div>
      </section>
    <% end %>

    <button class="new-tasklist">
      <%= link_to 'Ajouter une liste', new_project_task_list_path(project_id: @project.id) %>
    </button>
  </main>
</section>